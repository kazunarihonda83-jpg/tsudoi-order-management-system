# 🎯 デプロイチェックリスト

このチェックリストに従って、確実にデプロイを完了させましょう。

## 📋 デプロイ前の準備

### ✅ ローカルでの動作確認
- [ ] `npm install` が正常に完了する
- [ ] `npm run build` が正常に完了する
- [ ] ビルド後のファイルが `dist/` に生成される
- [ ] `npm run server` でバックエンドが起動する
- [ ] `npm run dev` でフロントエンドが起動する
- [ ] ログイン機能が正常に動作する（admin/admin123）
- [ ] すべての主要機能（顧客、書類、仕入先、発注、会計）が動作する

### ✅ Gitの準備
- [ ] すべての変更がコミットされている
- [ ] `.gitignore` が正しく設定されている
- [ ] `.env` ファイルがGitに含まれていない
- [ ] `node_modules/` がGitに含まれていない
- [ ] データベースファイル（*.db）がGitに含まれていない

---

## 🚀 デプロイ方法の選択

### オプション1: Railway（最推奨）⭐⭐⭐⭐⭐

**難易度**: ★☆☆☆☆（最も簡単）
**所要時間**: 5分
**コスト**: 無料（$5/月のクレジット）

#### 手順
1. [ ] GitHubリポジトリにコードをプッシュ
   ```bash
   git push origin main
   ```

2. [ ] https://railway.app にアクセス
3. [ ] GitHubでログイン
4. [ ] "New Project" → "Deploy from GitHub repo"
5. [ ] リポジトリを選択
6. [ ] 自動デプロイが開始される（約3分）
7. [ ] "Settings" → "Generate Domain" でURLを取得
8. [ ] 完了！🎉

#### 確認事項
- [ ] デプロイが成功している
- [ ] 生成されたURLにアクセスできる
- [ ] ログインページが表示される
- [ ] ログインできる（admin/admin123）
- [ ] すべての機能が動作する

---

### オプション2: Vercel（フロントエンド）+ Railway（バックエンド）⭐⭐⭐⭐

**難易度**: ★★☆☆☆
**所要時間**: 10分
**コスト**: 無料

#### A. バックエンド（Railway）
1. [ ] 上記のRailway手順でバックエンドをデプロイ
2. [ ] 生成されたバックエンドURLをメモ

#### B. フロントエンド（Vercel）
1. [ ] `src/utils/api.js` を編集
   ```javascript
   const api = axios.create({
     baseURL: 'https://your-backend-url.railway.app/api',  // RailwayのURL
     // ...
   });
   ```

2. [ ] 変更をコミット＆プッシュ
   ```bash
   git add src/utils/api.js
   git commit -m "Configure API endpoint for production"
   git push origin main
   ```

3. [ ] https://vercel.com にアクセス
4. [ ] GitHubでログイン
5. [ ] "Import Project" → リポジトリを選択
6. [ ] Framework: Vite を確認
7. [ ] "Deploy" をクリック
8. [ ] 完了！🎉

#### 確認事項
- [ ] Vercelのデプロイが成功している
- [ ] フロントエンドがVercelのURLで表示される
- [ ] APIがRailwayのバックエンドに正しく接続される
- [ ] ログインが正常に動作する

---

### オプション3: Render（フルスタック）⭐⭐⭐

**難易度**: ★★☆☆☆
**所要時間**: 7分
**コスト**: 無料（アイドル時スリープあり）

#### 手順
1. [ ] GitHubリポジトリにコードをプッシュ
2. [ ] https://render.com にアクセス
3. [ ] GitHubでログイン
4. [ ] "New" → "Web Service"
5. [ ] リポジトリを選択
6. [ ] 設定を入力:
   - Name: order-management-system
   - Build Command: `npm install && npm run build`
   - Start Command: `node server/index.js`
7. [ ] 環境変数を設定:
   ```
   NODE_ENV=production
   JWT_SECRET=your-secure-random-string
   ```
8. [ ] "Create Web Service" をクリック
9. [ ] 完了！🎉

#### 確認事項
- [ ] デプロイが成功している
- [ ] RenderのURLにアクセスできる
- [ ] ログインが正常に動作する

---

## 🔒 セキュリティチェック（本番環境）

### 必須項目
- [ ] `JWT_SECRET` を強力なランダム文字列に変更
- [ ] デフォルトの管理者パスワードを変更（推奨）
- [ ] `.env` ファイルがGitHubにプッシュされていないことを確認
- [ ] HTTPS が有効になっている（Railway/Vercel/Renderは自動）

### 推奨項目
- [ ] CORS設定の確認
- [ ] レート制限の実装を検討
- [ ] エラーログの監視設定

---

## 📊 デプロイ後の確認

### 機能テスト
- [ ] ログインページが表示される
- [ ] admin/admin123 でログインできる
- [ ] ダッシュボードが表示される
- [ ] 顧客管理機能が動作する
  - [ ] 顧客一覧の表示
  - [ ] 顧客の新規登録
  - [ ] 顧客の編集
  - [ ] 顧客の削除
- [ ] 書類管理機能が動作する
  - [ ] 書類一覧の表示
  - [ ] 書類の新規作成
  - [ ] 書類の編集
  - [ ] 書類の削除
- [ ] 仕入先管理機能が動作する
- [ ] 発注管理機能が動作する
- [ ] 会計帳簿機能が動作する
  - [ ] ダッシュボード表示
  - [ ] 仕訳帳の表示
  - [ ] 仕訳の登録
  - [ ] CSV出力

### パフォーマンステスト
- [ ] ページの読み込み速度が許容範囲内
- [ ] API応答時間が適切
- [ ] モバイルでの表示が正常

### UI確認
- [ ] 通貨記号が ¥ で表示される
- [ ] デザインがシンプルでビジネスライク
- [ ] レスポンシブデザインが機能している

---

## 🎉 デプロイ完了後

### 次のステップ
1. [ ] カスタムドメインの設定（任意）
2. [ ] 監視とアラートの設定
3. [ ] バックアップ戦略の確立
4. [ ] ユーザー向けドキュメントの作成
5. [ ] チームメンバーへの共有

### 保守・運用
- [ ] 定期的なアップデート計画
- [ ] ログの監視
- [ ] パフォーマンスの監視
- [ ] セキュリティアップデートの適用

---

## ❓ トラブルシューティング

### デプロイが失敗する
**確認項目:**
- [ ] ビルドコマンドが正しいか
- [ ] 依存関係がすべてインストールされているか
- [ ] Node.jsのバージョンが適切か（18以上推奨）

### ページが表示されない
**確認項目:**
- [ ] デプロイが完了しているか
- [ ] URLが正しいか
- [ ] ブラウザのコンソールでエラーを確認

### APIに接続できない
**確認項目:**
- [ ] バックエンドURLが正しく設定されているか
- [ ] CORS設定が正しいか
- [ ] 環境変数が正しく設定されているか

### データが保存されない
**確認項目:**
- [ ] データベースが正しく初期化されているか
- [ ] 永続化ストレージの設定（Railway/Renderの場合）

---

## 📞 サポート

詳細なドキュメント:
- [クイックデプロイガイド](./QUICK_DEPLOY.md) - 最速デプロイ手順
- [デプロイオプション](./DEPLOYMENT_OPTIONS.md) - 全オプションの比較
- [Vercelデプロイガイド](./VERCEL_DEPLOYMENT.md) - Vercel詳細手順

プラットフォームのドキュメント:
- Railway: https://docs.railway.app
- Vercel: https://vercel.com/docs
- Render: https://render.com/docs

---

**推奨デプロイ方法**: Railway（最も簡単で確実）
**所要時間**: 5分
**難易度**: ★☆☆☆☆

🚀 デプロイ頑張ってください！
